input {
        kafka {
                bootstrap_servers => "172.16.16.66:9093,172.16.16.74:9093,172.16.16.75:9093"
                topics => ["ops_packetbeat"]
                group_id => "amda_metricbeat"
                codec => "json"
                security_protocol => "SSL"
                ssl_keystore_location => "/etc/logstash/kafka_client.jks"
                ssl_keystore_password => "123456"
                ssl_truststore_location => "/etc/logstash/keystore.jks"
                ssl_truststore_password => "123456"
        }
}

output {
        if [fields][service_type] == "undefined" {
                pipeline {
                        send_to => drop
                }
        } else if [fields][service_type] == "undefined" {
                pipeline {
                        send_to => drop
                }
        } else {
                pipeline {
                        send_to => drop
                }
        }
}

